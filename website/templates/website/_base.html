{% load static %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <title>Yogi Patel</title>  
     
        <link rel="apple-touch-icon" sizes="180x180" href="{% static 'website/Favicon/apple-touch-icon.png' %}">
        <link rel="icon" type="image/png" sizes="32x32" href="{% static 'website/Favicon/favicon-32x32.png' %}">
        <link rel="icon" type="image/png" sizes="16x16" href="{% static 'website/Favicon/favicon-16x16.png' %}">
        {% comment %} static favicon files {% endcomment %}
        
        
        {% comment %} Bootstrap CDN {% endcomment %}
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" 
        integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">

    </head>
    <body data-bs-theme = "">
        
        {% comment %} Navbar {% endcomment %}
        <nav class="navbar navbar-expand-lg bg-black sticky-top py-0" data-bs-theme="dark"> 
            <div class="container">
                <a class=" link-opacity-75-hover link-underline link-underline-opacity-0 link-light" href="{% url 'home' %}">
                    <p class="display-6 pt-1">&lt;yrp&gt;</p>
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarItems" aria-controls="navbarItems" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarItems">                    
                    <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'about' %}"><h5 class ="mb-2 px-3">about</h5></a> 
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'portfolio' %}"><h5 class ="mb-2 px-3">portfolio</h5></a> 
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'contact' %}"><h5 class ="mb-2 px-3">contact</h5></a> 
                        </li>
                        <li class="nav-item">
                            <a class="nav-link pointer" onclick="toggleTheme()" style="cursor:pointer;"><h5 id="mode_text" class ="mb-2 px-3"></h5></a> 
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <script> 
        // Script after <nav> so that it is run before the rest of the page
            
            function toggleTheme() 
            {
                // Function to toggle the theme

                const body = document.body;
                const mode_text = document.getElementById('mode_text');
                let currentTheme = localStorage.getItem('theme'); 
            
                if (currentTheme === 'dark') 
                {
                    body.setAttribute('data-bs-theme', 'light');
                    mode_text.innerText = '<dark_mode>';
                    localStorage.setItem('theme', 'light'); 
                } 
                else 
                {    
                    body.setAttribute('data-bs-theme', 'dark');
                    mode_text.innerText = '<light_mode>';
                    localStorage.setItem('theme', 'dark'); 
                }    
            }

            
            function setInitialTheme() 
            {
                // Function to set the initial theme based on user's choice

                const body = document.body;
                const mode_text = document.getElementById('mode_text');
                let currentTheme = localStorage.getItem('theme');
                
                if (currentTheme === 'dark' || currentTheme === null) 
                {               
                    localStorage.setItem('theme', 'dark');
                    body.setAttribute('data-bs-theme', 'dark');
                    mode_text.innerText = '<light_mode>';    
                } 
                else 
                {                                           
                    localStorage.setItem('theme', 'light');
                    body.setAttribute('data-bs-theme', 'light');
                    mode_text.innerText = '<dark_mode>';
                }
            }
        
            setInitialTheme();
            
        </script>

        {% block content %}
        {% endblock content %}


        {% comment  %} Footer {% endcomment %}
        <footer class="py-5 text-center text-body-secondary bg-body-tertiary" style="box-shadow: 0rem -1rem 3rem rgba(0,0,0,.15) !important;">
            <p>Built using <a href="https://getbootstrap.com/" target="_blank">Bootstrap</a> and <a href="https://www.djangoproject.com/" target="_blank">Django</a>.</p>
            <p class="mb-0">
                <a href="#">Back to top</a>
            </p>
        </footer>
      
        {% comment %} Bootstrap JavaScript CDN {% endcomment %}
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" 
        integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
        
        </script>

        
    </body>
</html>