{% extends 'website/_base.html' %}
{% load static %}


{% block content %}


<!-- "Jumbotron"-like banner for contact page -->
<!-- This is almost the same for portfolio and for contact. Maybe it is possible to create a template for the same -->
<section class="py-5 container" >
    <div class="row pt-lg-5">
        <div class="col-lg-6 col-md-8 me-auto">
            <p class="display-1 fw-bold">contact</p>
            <p class="lead text-body-secondary mb-3">
                To commune with me, thou can employ the channels of social discourse or the courier of electronic missives. 
                <br>I eagerly await tidings from thee!
            </p>
            <p class = "m-0">
                <a class="link-underline link-underline-opacity-0" href="https://github.com/Yogi-Patel" target = "_blank">
                    <img class="mt-4 ms-md-4 me-4" src="{% static 'website/GitHub Icons8.png' %}" alt="GitHub" title="GitHub">
                </a> 
                <a class="link-underline link-underline-opacity-0" href="https://www.linkedin.com/in/yogi-patel78/" target="_blank">
                    <img class="mt-4 ms-md-4 me-4" src="{% static 'website/LinkedIn Icons8.png' %}" alt="LinkedIn" title = "LinkedIn">
                </a> 
                <a class="link-underline link-underline-opacity-0" href="https://www.instagram.com/igoy_letap/" target="_blank">
                    <img class="mt-4 ms-md-4 me-4" src="{% static 'website/Instagram Icons8.png' %}" alt="Instagram" title="Instagram">
                </a> 
                
            </p>
        </div>
    </div>
</section>


<!-- This is the contact form. Need to figure out how to send the data to mailchimp -->
<!-- There is a Django library that sends the admin an email. Below is the link  -->
<!-- https://docs.djangoproject.com/en/4.2/topics/email/ -->
<!-- Read the "Preventing header injection" part as well -->
<div class="py-5 bg-body-tertiary">
    <div class="container">
        <p class="mb-3 display-6 fs-1">Send an email</p>
        <div class="col-md-7 col-lg-8">

            {% if show_error %}
                <div class="alert alert-danger alert-dismissible fade show " role="alert">
                    An error occured... Please try again or send a message using my social media. 
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            {% endif %}
            
            {% if show_success %}
                <div class="alert alert-success alert-dismissible fade show " role="alert">
                    Submission complete! I will get back to you as soon as possible! :)
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            {% endif %}
                
            <form class="needs-validation" action="{% url "contact" %}" method="POST" novalidate>
                {% csrf_token %}
                <div class="row g-3 my-4">
                    <div class="col-sm-6">
                        <label for="firstName" class="form-label"><h5 class = "mb-0">First name</h5></label>
                        <input type="text" class="form-control" id="firstName" required="true" name="first_name">
                        <div class="invalid-feedback">
                            Valid first name is required.
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <label for="lastName" class="form-label"><h5 class = "mb-0">Last name <span class="text-muted fs-6">(Optional)</h5></span></label>
                        <input type="text" class="form-control" id="lastName" name="last_name">
                        <div class="invalid-feedback">
                            Valid last name is required.
                        </div>
                    </div>
                </div>
                <div class="col-12 my-4">
                    <label for="email" class="form-label"><h5 class = "mb-0">Email</h5></label>
                    <input type="email" class="form-control" id="email" placeholder="you@example.com" required="true" name="email">
                    <div class="invalid-feedback">
                        Please enter a valid email address.
                    </div>
                </div>
                <div class="col-12 my-4">
                    <label for="subject" class="form-label"><h5 class = "mb-0">Subject <span class="text-muted fs-6">(Optional)</h5></span></label>
                    <input type="text" class="form-control" id="subject" name="subject">
                </div>
                <div class="col-12 my-4">
                    <label for="message" class="form-label"><h5 class = "mb-0">Message</h5></label>
                    <textarea class="form-control" id="message" rows="9" placeholder="Type your message here..." required="true" name="message"></textarea>
                    <div class="invalid-feedback">
                        Please enter something here. 
                    </div>
                </div>
                <button class=" btn btn-primary btn-lg bg-black border-black " type="submit">Submit</button>
            </form>

        </div>
        
    </div>
</div>
    
<script>
    // JavaScript for disabling form submissions if there are invalid fields
    (function () {
        'use strict'
        // Fetch all the forms we want to apply custom Bootstrap validation styles to
        var forms = document.querySelectorAll('.needs-validation')
        // Loop over them and prevent submission
        Array.prototype.slice.call(forms)
        .forEach(function (form) {
        form.addEventListener('submit', function (event) {
            if (!form.checkValidity()) {
                event.preventDefault()
                event.stopPropagation()
            }
            form.classList.add('was-validated')
        }, false)
        })
    })()
</script>


{% endblock content %}




{% comment %} <div id="mc_embed_shell">
	<link href="//cdn-images.mailchimp.com/embedcode/classic-061523.css" rel="stylesheet" type="text/css">
	<style type="text/css">
		#mc_embed_signup{background:#fff; false;clear:left; font:14px Helvetica,Arial,sans-serif; width: 600px;}
		/* Add your own Mailchimp form style overrides in your site stylesheet or in this style block.
		We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
	</style>
	<div id="mc_embed_signup">
		<form action="https://gmail.us21.list-manage.com/subscribe/post?u=dd48cb8601e1da88004da48c5&amp;id=d6812fde4e&amp;f_id=005ddde6f0" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank">
			<div id="mc_embed_signup_scroll">
				<h2>Subscribe</h2>
				<div class="indicates-required"><span class="asterisk">*</span> indicates required</div>
				<div class="mc-field-group"><label for="mce-FNAME">First Name <span class="asterisk">*</span></label><input type="text" name="FNAME" class="required text" id="mce-FNAME" value="" required=""></div>
				<div class="mc-field-group"><label for="mce-LNAME">Last Name </label><input type="text" name="LNAME" class=" text" id="mce-LNAME" value=""></div>
				<div class="mc-field-group"><label for="mce-EMAIL">Email Address <span class="asterisk">*</span></label><input type="email" name="EMAIL" class="required email" id="mce-EMAIL" value="" required=""></div>
				<div class="mc-field-group"><label for="mce-MMERGE3">Subject </label><input type="text" name="MMERGE3" class=" text" id="mce-MMERGE3" value=""></div>
				<div class="mc-field-group"><label for="mce-MMERGE4">Message <span class="asterisk">*</span></label><input type="text" name="MMERGE4" class="required text" id="mce-MMERGE4" value="" required=""></div>
				<div id="mce-responses" class="clear foot">
					<div class="response" id="mce-error-response" style="display: none;"></div>
					<div class="response" id="mce-success-response" style="display: none;"></div>
				</div>
				<div style="position: absolute; left: -5000px;" aria-hidden="true">
					/* real people should not fill this in and expect good things - do not remove this or risk form bot signups */
					<input type="text" name="b_dd48cb8601e1da88004da48c5_d6812fde4e" tabindex="-1" value="">
				</div>
				<div class="optionalParent">
					<div class="clear foot">
						<input type="submit" name="subscribe" id="mc-embedded-subscribe" class="button" value="Subscribe">
						<p style="margin: 0px auto;"><a href="http://eepurl.com/izwi5U" title="Mailchimp - email marketing made easy and fun"><span style="display: inline-block; background-color: transparent; border-radius: 4px;"><img class="refferal_badge" src="https://digitalasset.intuit.com/render/content/dam/intuit/mc-fe/en_us/images/intuit-mc-rewards-text-dark.svg" alt="Intuit Mailchimp" style="width: 220px; height: 40px; display: flex; padding: 2px 0px; justify-content: center; align-items: center;"></span></a></p>
					</div>
				</div>
			</div>
		</form>
	</div>
	<script type="text/javascript" src="//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js"></script><script type="text/javascript">(function($) {window.fnames = new Array(); window.ftypes = new Array();fnames[1]='FNAME';ftypes[1]='text';fnames[2]='LNAME';ftypes[2]='text';fnames[0]='EMAIL';ftypes[0]='email';fnames[3]='MMERGE3';ftypes[3]='text';fnames[4]='MMERGE4';ftypes[4]='text';}(jQuery));var $mcj = jQuery.noConflict(true);</script>
</div> {% endcomment %}
